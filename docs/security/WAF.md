### **1. WAF 的主要功能**

1. **防护常见 Web 攻击**
   - **SQL 注入（SQL Injection）**：防止攻击者通过恶意 SQL 语句操作数据库。
   - **跨站脚本攻击（XSS）**：阻止恶意脚本注入用户浏览器。
   - **文件包含漏洞（LFI/RFI）**：防止远程或本地文件被非法访问。
   - **跨站请求伪造（CSRF）**：阻止未经授权的操作请求。
   - **命令注入**：防止攻击者执行系统命令。
2. **流量监控与分析**
   - 对访问 Web 应用的流量进行实时监控。
   - 识别异常访问模式或恶意请求。
3. **访问控制**
   - 基于 IP、地理位置、访问频率等策略限制访问。
   - 防止 DDoS 攻击或暴力破解行为。
4. **日志记录与告警**
   - 记录所有请求、攻击尝试及防护动作。
   - 触发告警便于安全分析和取证。

------

### **2. WAF 的部署方式**

1. **网络前置式（Reverse Proxy）**
   - WAF 部署在 Web 服务器前面，所有请求都先经过 WAF。
   - 优点：可以全面过滤恶意请求。
   - 缺点：增加延迟和单点压力。
2. **云服务式**
   - 由云厂商提供 WAF 服务（如阿里云、AWS WAF）。
   - 优点：无需自行维护硬件，规则自动更新。
   - 缺点：对自定义需求灵活性有限。
3. **本地集成式（嵌入应用）**
   - WAF 集成在应用或框架中。
   - 优点：紧密结合应用逻辑。
   - 缺点：覆盖面可能不如前置式全面。

------

### **3. WAF 的价值**

- **提升安全性**：防止常见 Web 攻击直接影响应用和数据。
- **合规要求**：很多行业（金融、电商、医疗）要求必须部署 WAF。
- **降低风险成本**：比起事后处理安全事件，提前防护成本更低。